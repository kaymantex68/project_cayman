{"version":3,"sources":["components/nav/AdminNavigation.js","functions/category.js","components/form/LocalSearch.js","functions/sub.js","functions/uploadImages.js","functions/brand.js","components/form/ShowBrandPicture.js","functions/product.js","pages/admin/product/Products.js"],"names":["Header","Layout","Content","Sider","Footer","SubMenu","Menu","AdminNavigation","props","useState","collapsed","setCollapsed","sideMenu","useSelector","state","dispatch","useDispatch","useEffect","style","minHeight","width","collapsible","onCollapse","type","payload","overflow","className","to","src","process","theme","color","defaultSelectedKeys","mode","Item","icon","title","padding","backgroundColor","display","justifyContent","name","fontSize","margin","children","createCategory","category","authtoken","a","axios","post","headers","getCategories","get","getCategory","slug","updateCategory","put","removeCategory","delete","LocalSearch","filter","setFilter","placeholder","value","onChange","e","preventDefault","target","toLowerCase","backgrounColor","createSub","sub","getSubs","getSubsSlug","getSub","_id","updateSub","removeSub","uploadImage","data","create","getBrandPictureInfo","getBrandPictures","removeBrandPcture","console","log","createBrand","brand","getBrands","getBrand","updateBrand","removeBrand","UploadBrandImage","disabled","user","pictureOk","setPictureOk","fileName","setFileName","then","res","maxWidth","paddingLeft","createProduct","product","getProducts","getProduct","updateProduct","removeProduct","removeFile","slugBrand","removeUnusedFile","Meta","Card","Products","products","setProducts","brandPictures","setBrandPictures","categories","setCategories","subs","setSubs","loading","setLoading","loadingProducts","catch","err","handleInStock","p","i","inStock","token","toast","success","response","status","error","ProductCard","path","find","b","brandSlug","c","s","pathImage","images","length","boxShadow","cover","height","alignItems","maxHeight","alt","actions","onClick","window","confirm","handleRemove","active","handleActive","fontWeight","description","searched","includes","Loading","map"],"mappings":"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","file":"static/js/36.d83c81c8.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Layout, Menu, Breadcrumb } from \"antd\";\nimport {\n    DesktopOutlined,\n    PieChartOutlined,\n    FileOutlined,\n    TeamOutlined,\n    UserOutlined,\n    HomeOutlined,\n    SolutionOutlined,\n    VideoCameraOutlined,\n    VideoCameraAddOutlined,\n    ToolOutlined,\n    ClearOutlined,\n    ColumnWidthOutlined,\n    RobotOutlined,\n    PercentageOutlined\n\n} from \"@ant-design/icons\";\nimport {useSelector, useDispatch} from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nconst { Header, Content, Footer, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nconst AdminNavigation = (props) => {\n    const [collapsed, setCollapsed] = useState(true);\n\n    const {sideMenu}= useSelector(state=>({...state}))\n    const dispatch= useDispatch()\n\n    // console.log('sideMenu', sideMenu)\n\n    useEffect(()=>{\n        setCollapsed(sideMenu)\n    },[])\n\n    const onCollapse = () => {\n        dispatch({\n            type: \"SET_VISIBLE_SIDEMENU\",\n            payload: !collapsed,\n          });\n        setCollapsed(!collapsed);\n    };\n\n    return (\n        <Layout style={{ minHeight: \"100vh\" }}>\n            <Sider\n                width='250'\n                collapsible\n                collapsed={collapsed}\n                onCollapse={onCollapse}\n                style={{ overflow:\"hidden\" }}\n            >\n                <div className=\" p-3\"  >\n                    <Link to=\"/\"><img style={{width: \"210px\"}} src={`${process.env.REACT_APP_IMAGES_LOGO}/logo.png`} /></Link>\n                </div>\n               \n\n                <Menu theme=\"dark\" style={{ color: 'white' }} defaultSelectedKeys={[\"1\"]} mode=\"inline\" >\n                    <Menu.Item key=\"hist\" style={{ color: 'white' }} icon={<HomeOutlined />}>\n                        <Link to=\"/admin/dashboard\" style={{ color: 'white' }}>Личный кабинет</Link>\n                    </Menu.Item>\n                    <SubMenu key=\"sub1\" icon={<SolutionOutlined />} title=\"Настройки Администратор\">\n                        <Menu.Item key=\"2\">\n                            <Link to=\"/user/password\">Пароль</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"users\" icon={<UserOutlined />} title=\"Пользователи\">\n                        <Menu.Item key=\"3\">\n                            <Link to=\"/admin/users\">Статистика</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"groupDiscounts\" icon={<PercentageOutlined />} title=\"Скидочные группы\">\n                        <Menu.Item key=\"4\">\n                            <Link to=\"/admin/groupDiscounts\">Скидки</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"category\" icon={<PieChartOutlined />} title=\"Структура каталога\">\n                        <Menu.Item key=\"category_1\"><Link to=\"/admin/category\">Категории</Link></Menu.Item>\n                        <Menu.Item key=\"sub_category_1\"><Link to=\"/admin/sub\">Sub-категории</Link></Menu.Item>\n                        <Menu.Item key=\"brands\"><Link to=\"/admin/brand\">Brand</Link></Menu.Item>\n                        <Menu.Item key=\"brandPicture\"><Link to=\"/admin/brandPicture\">Brand-лого</Link></Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"products\" icon={<VideoCameraOutlined />} title=\"Товары\">\n                        <Menu.Item key=\"newproduct\" icon={<VideoCameraAddOutlined />}>\n                            <Link to=\"/admin/product\">Новый товар</Link>\n                        </Menu.Item>\n                        <Menu.Item key=\"product\" icon={<VideoCameraOutlined />}>\n                            <Link to=\"/admin/products\">Товары</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"works\" icon={<ToolOutlined />} title=\"Работы\">\n                        <Menu.Item key=\"newwork\" icon={<VideoCameraAddOutlined />}>\n                            <Link to=\"/admin/work\">Виды работ</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"optimization\" icon={<ClearOutlined />} title=\"Оптимизация базы\">\n                        <Menu.Item key=\"9\" style={{ color: 'white' }} >\n                            <Link to=\"/admin/delete-image\">Удаление изображений</Link>\n                        </Menu.Item>\n\n                    </SubMenu>\n                    <SubMenu key=\"slider\" icon={<ColumnWidthOutlined />} title=\"Слайдер\">\n                        <Menu.Item key=\"slider1\" style={{ color: 'white' }} >\n                            <Link to=\"/admin/slider\">Слайды</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"diler\" icon={<RobotOutlined />} title=\"Дилер\">\n                        <Menu.Item key=\"diler1\" style={{ color: 'white' }} >\n                            <Link to=\"/admin/diler\">Дилер</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                </Menu>\n\n            </Sider>\n\n            {/* content */}\n            <Layout\n                className=\"site-layout\"\n                style={{ padding: 0, backgroundColor: \"white\" }}>\n                <Header\n                    className=\"site-layout-background pl-2\"\n                    style={{ padding: 0, backgroundColor: \"white\", display: \"flex\", justifyContent: \"center\" }}\n                >\n                    {props.name ? <span style={{ fontSize: \"1rem\", color: \"black\" }}>{props.name}</span> : null}\n                </Header>\n                <Content style={{ margin: \"0 0px\" }} className=\"p-2\">\n                    {props.children ? props.children : null}\n                </Content>\n            </Layout>\n        </Layout>\n    );\n};\n\nexport default AdminNavigation;\n","\nimport axios from 'axios'\n\nexport const createCategory = async (category, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/category`,\n        { ...category },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const getCategories = async () => {\n    return await axios.get(`${process.env.REACT_APP_API}/categories`)\n}\n\nexport const getCategory = async (slug) => {\n    return await axios.get(`${process.env.REACT_APP_API}/category/${slug}`)\n}\n\nexport const updateCategory = async (slug, category, authtoken) => {\n    return await axios.put(`${process.env.REACT_APP_API}/category/${slug}`,\n        { ...category },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const removeCategory = async (slug, authtoken) => {\n    return await axios.delete(`${process.env.REACT_APP_API}/category/${slug}`,\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}","import React from \"react\";\n\nconst LocalSearch = ({ filter, setFilter }) => {\n    const handleFilterChange = (e) => {\n        e.preventDefault();\n        setFilter(e.target.value.toLowerCase());\n    };\n    return (\n        <div className=\"containter pt-4 pb-4\">\n            <input\n                type=\"search\"\n                placeholder=\"поиск\"\n                value={filter}\n                onChange={handleFilterChange}\n                className=\"form-control mb-4\"\n                style={{backgrounColor: \"grey\"}}\n            />\n        </div>\n    );\n};\n\nexport default LocalSearch;\n","\nimport axios from 'axios'\n\nexport const createSub = async (sub, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/sub`,\n        { ...sub },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const getSubs = async () => {\n    return await axios.get(`${process.env.REACT_APP_API}/subs`)\n}\n\nexport const getSubsSlug= async (slug) => {\n    return await axios.get(`${process.env.REACT_APP_API}/subsSlug/${slug}`)\n}\n\nexport const getSub = async (_id) => {\n    return await axios.get(`${process.env.REACT_APP_API}/sub/${_id}`)\n}\n\nexport const updateSub = async (_id, sub, authtoken) => {\n    return await axios.put(`${process.env.REACT_APP_API}/sub/${_id}`,\n        { ...sub },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const removeSub = async (slug, authtoken) => {\n    return await axios.delete(`${process.env.REACT_APP_API}/sub/${slug}`,\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}","import axios from 'axios'\n\nexport const uploadImage = async (data, name, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/brandImage`,\n        data,\n        {\n            headers: {\n                authtoken,\n                type: \"formData\",\n                name\n            }\n        })\n}\n// add picture to dataBase\nexport const create = async (name, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/brandImage/data`,\n        { name },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n//get brand picture info\nexport const getBrandPictureInfo = async (name) => {\n    return await axios.get(`${process.env.REACT_APP_API}/brandImage/${name}`)\n}\n// get all brand pictures\nexport const getBrandPictures= async()=>{\n    return await axios.get(`${process.env.REACT_APP_API}/brandImages`)\n}\n\n\nexport const removeBrandPcture= async(slug, authtoken)=>{\n    console.log(\"------\",slug)\n    return await axios.delete(`${process.env.REACT_APP_API}/brandImage/${slug}`,\n    {\n        headers:{\n            authtoken\n        }\n    })\n}\n\n\n","\nimport axios from 'axios'\n\nexport const createBrand = async (brand, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/brand`,\n        { ...brand },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const getBrands = async () => {\n    return await axios.get(`${process.env.REACT_APP_API}/brands`)\n}\n\nexport const getBrand = async (_id) => {\n    return await axios.get(`${process.env.REACT_APP_API}/brand/${_id}`)\n}\n\nexport const updateBrand = async (_id, brand, authtoken) => {\n    return await axios.put(`${process.env.REACT_APP_API}/brand/${_id}`,\n        { ...brand },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const removeBrand = async (_id, authtoken) => {\n    return await axios.delete(`${process.env.REACT_APP_API}/brand/${_id}`,\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n","import React, { useState, useEffect } from 'react'\nimport { uploadImage, create, getBrandPictureInfo } from '../../functions/uploadImages'\nimport { useSelector } from 'react-redux'\nimport { Avatar, Badge } from 'antd'\n\nconst UploadBrandImage = ({ name, disabled }) => {\n    const [file, setFile] = useState(null)\n    const { user } = useSelector(state => ({ ...state }))\n    const [pictureOk, setPictureOk] = useState(false)\n    const [fileName, setFileName] = useState('')\n\n    \n    useEffect(() => {\n        console.log('change')\n        name && getBrandPictureInfo(name)\n            .then(res => {\n                if (res.data) {\n                    setFileName(res.data.fileName)\n                    setPictureOk(true)\n                } else {\n                    setFileName('')\n                    setPictureOk(false)\n                }\n            })\n    }, [name])\n\n    const uploadFile = (e) => {\n        let file = e.target.files[0]\n        let formData = new FormData()\n        formData.append('image', file)\n        formData.append('name', 'file')\n\n        create(name, user.token)\n            .then(res => {\n                const slug = res.data.slug\n                uploadImage(formData, slug, user.token)\n                    .then(res => {\n                        console.log('complete upload')\n                    })\n            })\n\n    }\n\n\n    return (\n        <>\n            <div className=\"row\">\n                {pictureOk &&\n                    <img src={`${process.env.REACT_APP_IMAGES_BRAND}/${fileName}`} style={{ maxWidth: \"150px\", paddingLeft: \"20px\" }} />\n                }\n            </div>\n            <br />\n        </>\n    )\n}\n\nexport default UploadBrandImage","import axios from 'axios'\n\n\nexport const createProduct = async (product, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/product`,\n        { ...product },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const getProducts = async () => {\n    return await axios.get(`${process.env.REACT_APP_API}/products`)\n}\n\n\nexport const getProduct = async (slug) => {\n    return await axios.get(`${process.env.REACT_APP_API}/product/${slug}`)\n}\n\nexport const updateProduct = async (_id, product, authtoken) => {\n    return await axios.put(`${process.env.REACT_APP_API}/product/${_id}`,\n        { ...product },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const removeProduct = async (_id, authtoken) => {\n    return await axios.delete(`${process.env.REACT_APP_API}/product/${_id}`,\n        {\n            headers: {\n                authtoken\n            }\n        })\n}\n\nexport const removeFile = async(slug, fileName, authtoken)=>{\n    return await axios.put(`${process.env.REACT_APP_API}/productImage`,\n    {slug, fileName},\n    {\n        headers: {\n            authtoken\n        }\n    })}\n\n    export const uploadImage = async (data, slug, slugBrand, authtoken) => {\n        return await axios.post(`${process.env.REACT_APP_API}/productImage`,\n            data,\n            {\n                headers: {\n                    authtoken,\n                    type: \"formData\",\n                    slug,\n                    slugBrand,\n                }\n            })\n    }\n\n    \n\n    export const removeUnusedFile = async(fileName, authtoken)=>{\n        return await axios.delete(`${process.env.REACT_APP_API}/unusedImages/${fileName}`,\n        {\n            headers: {\n                authtoken\n            }\n        })}","import React, { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport {\n    getCategories,\n} from \"../../../functions/category\";\nimport { getBrandPictures } from '../../../functions/uploadImages'\nimport { getSubs } from '../../../functions/sub'\nimport { Link } from \"react-router-dom\";\nimport {\n    SettingOutlined,\n    EditOutlined,\n    EllipsisOutlined,\n    CopyOutlined,\n    CheckSquareOutlined,\n    DeleteOutlined,\n    CheckCircleOutlined,\n    ClockCircleOutlined,\n    CloseCircleOutlined,\n} from \"@ant-design/icons\";\nimport { getBrands } from '../../../functions/brand'\nimport LocalSearch from '../../../components/form/LocalSearch'\nimport AdminNavigation from '../../../components/nav/AdminNavigation'\nimport _, { stubTrue } from 'lodash'\nimport slugify from 'react-slugify'\nimport UploadBrandImage from '../../../components/form/ShowBrandPicture'\nimport { Card, Avatar, Tooltip, Radio } from 'antd';\nimport { createProduct, getProducts, removeProduct, updateProduct } from '../../../functions/product'\nimport Loading from '../../../components/form/LoadingIcon'\n// import PCard from '../../../components/ card/Card'\nconst { Meta } = Card;\n\n\n\nconst Products = () => {\n    const [products, setProducts] = useState([])\n    const [brandPictures, setBrandPictures] = useState([])\n    const [categories, setCategories] = useState([])\n    const [subs, setSubs] = useState([])\n    const [filter, setFilter] = useState(\"\");\n\n    const [loading, setLoading] = useState(false)\n\n    const { user } = useSelector(state => ({ ...state }))\n\n    const [inStock, setInStock] = useState(1)\n\n    // console.log('products:', products)\n    // console.log('brand pictures:', brandPictures)\n    // console.log('categories:', categories)\n    // console.log('subs:', subs)\n\n    const loadingProducts = () => {\n        getProducts().then((res) => setProducts(res.data))\n    }\n\n    useState(() => {\n        setLoading(true)\n        getProducts()\n            .then(res => {\n                setProducts(res.data)\n                getBrandPictures()\n                    .then(res => {\n                        setBrandPictures(res.data)\n                        getCategories()\n                            .then(res => {\n                                setCategories(res.data)\n                                getSubs()\n                                    .then(res => {\n                                        setSubs(res.data)\n                                        setLoading(false)\n                                    })\n                            })\n                    })\n            })\n            .catch(err => {\n                console.log('error: ---->', err)\n            })\n    }, [])\n\n    const handleClick = (e) => {\n        e.preventDefault()\n        console.log('we here')\n    }\n\n    const handleRemove = (p) => {\n        if (window.confirm(`Удалить?`)) {\n            setLoading(true)\n            removeProduct(p._id, user.token)\n                .then(res => {\n                    loadingProducts()\n                    setLoading(false)\n                    toast.error(`Товар ${p.name} удален!`);\n\n                })\n                .catch((err) => {\n                    setLoading(false);\n                    if (err.response.status === 400) toast.error(err.response.data);\n                });\n\n            console.log('id', p._id)\n        }\n    }\n\n    const handleActive = (p) => {\n        setLoading(true)\n        console.log('p', p)\n        console.log('active', p.active)\n        updateProduct(p._id, { ...p, active: !p.active }, user.token)\n            .then(res => {\n                setLoading(false)\n                toast.success(`Товар ${p.name} переключен`)\n                loadingProducts();\n            })\n            .catch(err => {\n                setLoading(false)\n                if (err.response.status === 400) toast.error(err.response.data)\n            })\n    }\n\n    const handleInStock =(p,i)=>{\n        setLoading(true)\n        updateProduct(p._id, { ...p, inStock: i }, user.token)\n            .then(res => {\n                setLoading(false)\n                toast.success(`Наличие товара ${p.name} обновлено`)\n                loadingProducts();\n            })\n            .catch(err => {\n                setLoading(false)\n                if (err.response.status === 400) toast.error(err.response.data)\n            })\n    }\n    \n\n\n    const ProductCard = (p) => {\n        \n\n        const path = brandPictures.find(b => b.slug === p.brandSlug)\n        const category = categories.find(c => c._id === p.category)\n        const sub = subs.find(s => s._id === p.sub)\n        let pathImage = ''\n        if (p.images.length > 0) pathImage = `${process.env.REACT_APP_IMAGES_PRODUCTS}/${p.images[0]}`\n        else pathImage = \"/images/product/default.png\"\n        return (\n            <div className=\"m-1\" style={{ boxShadow: \"0 3px 2px rgba(0,0,0,0.1)\" }}>\n                <Card\n                    style={{ width: 250, fontSize: \"0.8rem\", }}\n                    cover={\n                        <div style={{ width: \"250px\", height: \"150px\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\" }}>\n                            <img\n                                style={{ maxWidth: \"200px\", maxHeight: \"140px\" }}\n                                alt=\"example\"\n                                src={pathImage}\n                            />\n                        </div>\n                    }\n                    actions={[\n                        <Tooltip title=\"копировать\"><Link to={`/admin/copy/${p.slug}`}><CopyOutlined key=\"setting\" className=\"text-primary\" /></Link></Tooltip>,\n                        <Tooltip title=\"редактировать\"><Link to={`/admin/product/${p.slug}`}><EditOutlined key=\"edit\" className=\"text-success\" /></Link></Tooltip>,\n                        <Tooltip title=\"удалить\"><DeleteOutlined key=\"ellipsis\" className=\"text-danger\" onClick={() => handleRemove(p)} /></Tooltip>,\n                        <Tooltip title=\"активировать\"><CheckSquareOutlined key=\"ellipsis\" className={p.active ? \"text-success\" : \"text-danger\"} onClick={() => handleActive(p)} /></Tooltip>,\n                    ]}\n\n                >\n                    <Meta\n                        style={{ fontSize: \"0.8rem\", fontWeight: \"bold\", color: \"black\" }}\n                        title={p.name}\n                        description={category && sub && `${category.name}  (${sub.name})`}\n                    />\n                    <br />\n                    {path &&\n                        <div style={{ width: \"100px\", height: \"50px\", display: \"flex\", alignItems: \"center\", justifyContent: \"flex-start\" }}>\n                            <img src={`${process.env.REACT_APP_IMAGES_BRAND}/${path.fileName}`} style={{ maxWidth: \"100px\", maxHeight: \"50px\" }} />\n                        </div>}\n\n                </Card>\n                <Card\n                     \n                    style={{ width: 250 }}\n                    actions={[\n                        <Tooltip title=\"в наличии\"><CheckCircleOutlined key=\"inStock\" className={p.inStock===1? \"text-success\": null} onClick={(e)=>handleInStock(p,1)} /></Tooltip>,\n                        <Tooltip title=\"ожидается\"><ClockCircleOutlined key=\"soon\" className={p.inStock===2? \"text-warning\": null} onClick={(e)=>handleInStock(p,2)}/></Tooltip>,\n                        <Tooltip title=\"под заказ\"><CloseCircleOutlined key=\"outStock\" className={p.inStock===0? \"text-danger\": null} onClick={(e)=>handleInStock(p,0)}/></Tooltip>,\n                    ]}\n                >\n                    <span>Наличие товара</span>\n                </Card>\n\n            </div>\n        )\n    }\n\n    const searched = (filter) => (c) => c.name.toLowerCase().includes(filter) ;\n\n\n\n    const ReturnProducts = () => (\n        <div className=\" justify-content-center\" style={{ backgroundColor: \"White\" }}>\n            <LocalSearch filter={filter} setFilter={setFilter} />\n\n            <div className=\"row justify-content-center\">\n                {\n                    products.length > 0 &&\n                    products.filter(searched(filter)).map((p) => {\n                        return (\n                            <div key={p._id}>\n                                {/* <PCard product={p}/> */}\n                                {ProductCard(p)}\n                            </div>\n                        )\n\n                    })\n\n                }\n            </div>\n\n        </div>\n    )\n\n    return (\n        <AdminNavigation name={'Товары'} children={loading ? Loading() : ReturnProducts()} />\n    );\n};\n\nexport default Products;\n"],"sourceRoot":""}