{"version":3,"sources":["components/nav/AdminNavigation.js","functions/category.js","components/form/LocalSearch.js","functions/sub.js","functions/uploadImages.js","components/form/ShowBrandPicture.js","functions/diler.js","pages/admin/diler/Diler.js"],"names":["Header","Layout","Content","Sider","Footer","SubMenu","Menu","AdminNavigation","props","useState","collapsed","setCollapsed","sideMenu","useSelector","state","dispatch","useDispatch","useEffect","style","minHeight","width","collapsible","onCollapse","type","payload","overflow","className","to","src","process","theme","color","defaultSelectedKeys","mode","Item","icon","title","padding","backgroundColor","display","justifyContent","name","fontSize","margin","children","createCategory","category","authtoken","a","axios","post","headers","getCategories","get","getCategory","slug","updateCategory","put","removeCategory","delete","LocalSearch","filter","setFilter","placeholder","value","onChange","e","preventDefault","target","toLowerCase","backgrounColor","createSub","sub","getSubs","getSubsSlug","getSub","_id","updateSub","removeSub","uploadImage","data","create","getBrandPictureInfo","getBrandPictures","removeBrandPcture","console","log","UploadBrandImage","disabled","user","pictureOk","setPictureOk","fileName","setFileName","then","res","maxWidth","paddingLeft","getDilerPictureInfo","getDilers","removeDilerPicture","Diler","setName","file","setFile","logos","setLogos","loading","setLoading","loadLogos","REACT_IMAGES_BRAND","handleSubmit","formData","FormData","append","token","onSubmit","fontWeight","autoFocus","required","accept","files","map","l","count","onClick","window","confirm","toast","warning","catch","err","removeLogo","cursor","alt","public_id"],"mappings":"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","file":"static/js/40.f01d7ff5.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Layout, Menu, Breadcrumb } from \"antd\";\nimport {\n    DesktopOutlined,\n    PieChartOutlined,\n    FileOutlined,\n    TeamOutlined,\n    UserOutlined,\n    HomeOutlined,\n    SolutionOutlined,\n    VideoCameraOutlined,\n    VideoCameraAddOutlined,\n    ToolOutlined,\n    ClearOutlined,\n    ColumnWidthOutlined,\n    RobotOutlined,\n    PercentageOutlined\n\n} from \"@ant-design/icons\";\nimport {useSelector, useDispatch} from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nconst { Header, Content, Footer, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nconst AdminNavigation = (props) => {\n    const [collapsed, setCollapsed] = useState(true);\n\n    const {sideMenu}= useSelector(state=>({...state}))\n    const dispatch= useDispatch()\n\n    // console.log('sideMenu', sideMenu)\n\n    useEffect(()=>{\n        setCollapsed(sideMenu)\n    },[])\n\n    const onCollapse = () => {\n        dispatch({\n            type: \"SET_VISIBLE_SIDEMENU\",\n            payload: !collapsed,\n          });\n        setCollapsed(!collapsed);\n    };\n\n    return (\n        <Layout style={{ minHeight: \"100vh\" }}>\n            <Sider\n                width='250'\n                collapsible\n                collapsed={collapsed}\n                onCollapse={onCollapse}\n                style={{ overflow:\"hidden\" }}\n            >\n                <div className=\" p-3\"  >\n                    <Link to=\"/\"><img style={{width: \"210px\"}} src={`${process.env.REACT_APP_IMAGES_LOGO}/logo.png`} /></Link>\n                </div>\n               \n\n                <Menu theme=\"dark\" style={{ color: 'white' }} defaultSelectedKeys={[\"1\"]} mode=\"inline\" >\n                    <Menu.Item key=\"hist\" style={{ color: 'white' }} icon={<HomeOutlined />}>\n                        <Link to=\"/admin/dashboard\" style={{ color: 'white' }}>Личный кабинет</Link>\n                    </Menu.Item>\n                    <SubMenu key=\"sub1\" icon={<SolutionOutlined />} title=\"Настройки Администратор\">\n                        <Menu.Item key=\"2\">\n                            <Link to=\"/user/password\">Пароль</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"users\" icon={<UserOutlined />} title=\"Пользователи\">\n                        <Menu.Item key=\"3\">\n                            <Link to=\"/admin/users\">Статистика</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"groupDiscounts\" icon={<PercentageOutlined />} title=\"Скидочные группы\">\n                        <Menu.Item key=\"4\">\n                            <Link to=\"/admin/groupDiscounts\">Скидки</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"category\" icon={<PieChartOutlined />} title=\"Структура каталога\">\n                        <Menu.Item key=\"category_1\"><Link to=\"/admin/category\">Категории</Link></Menu.Item>\n                        <Menu.Item key=\"sub_category_1\"><Link to=\"/admin/sub\">Sub-категории</Link></Menu.Item>\n                        <Menu.Item key=\"brands\"><Link to=\"/admin/brand\">Brand</Link></Menu.Item>\n                        <Menu.Item key=\"brandPicture\"><Link to=\"/admin/brandPicture\">Brand-лого</Link></Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"products\" icon={<VideoCameraOutlined />} title=\"Товары\">\n                        <Menu.Item key=\"newproduct\" icon={<VideoCameraAddOutlined />}>\n                            <Link to=\"/admin/product\">Новый товар</Link>\n                        </Menu.Item>\n                        <Menu.Item key=\"product\" icon={<VideoCameraOutlined />}>\n                            <Link to=\"/admin/products\">Товары</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"works\" icon={<ToolOutlined />} title=\"Работы\">\n                        <Menu.Item key=\"newwork\" icon={<VideoCameraAddOutlined />}>\n                            <Link to=\"/admin/work\">Виды работ</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"optimization\" icon={<ClearOutlined />} title=\"Оптимизация базы\">\n                        <Menu.Item key=\"9\" style={{ color: 'white' }} >\n                            <Link to=\"/admin/delete-image\">Удаление изображений</Link>\n                        </Menu.Item>\n\n                    </SubMenu>\n                    <SubMenu key=\"slider\" icon={<ColumnWidthOutlined />} title=\"Слайдер\">\n                        <Menu.Item key=\"slider1\" style={{ color: 'white' }} >\n                            <Link to=\"/admin/slider\">Слайды</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"diler\" icon={<RobotOutlined />} title=\"Дилер\">\n                        <Menu.Item key=\"diler1\" style={{ color: 'white' }} >\n                            <Link to=\"/admin/diler\">Дилер</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                </Menu>\n\n            </Sider>\n\n            {/* content */}\n            <Layout\n                className=\"site-layout\"\n                style={{ padding: 0, backgroundColor: \"white\" }}>\n                <Header\n                    className=\"site-layout-background pl-2\"\n                    style={{ padding: 0, backgroundColor: \"white\", display: \"flex\", justifyContent: \"center\" }}\n                >\n                    {props.name ? <span style={{ fontSize: \"1rem\", color: \"black\" }}>{props.name}</span> : null}\n                </Header>\n                <Content style={{ margin: \"0 0px\" }} className=\"p-2\">\n                    {props.children ? props.children : null}\n                </Content>\n            </Layout>\n        </Layout>\n    );\n};\n\nexport default AdminNavigation;\n","\nimport axios from 'axios'\n\nexport const createCategory = async (category, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/category`,\n        { ...category },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const getCategories = async () => {\n    return await axios.get(`${process.env.REACT_APP_API}/categories`)\n}\n\nexport const getCategory = async (slug) => {\n    return await axios.get(`${process.env.REACT_APP_API}/category/${slug}`)\n}\n\nexport const updateCategory = async (slug, category, authtoken) => {\n    return await axios.put(`${process.env.REACT_APP_API}/category/${slug}`,\n        { ...category },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const removeCategory = async (slug, authtoken) => {\n    return await axios.delete(`${process.env.REACT_APP_API}/category/${slug}`,\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}","import React from \"react\";\n\nconst LocalSearch = ({ filter, setFilter }) => {\n    const handleFilterChange = (e) => {\n        e.preventDefault();\n        setFilter(e.target.value.toLowerCase());\n    };\n    return (\n        <div className=\"containter pt-4 pb-4\">\n            <input\n                type=\"search\"\n                placeholder=\"поиск\"\n                value={filter}\n                onChange={handleFilterChange}\n                className=\"form-control mb-4\"\n                style={{backgrounColor: \"grey\"}}\n            />\n        </div>\n    );\n};\n\nexport default LocalSearch;\n","\nimport axios from 'axios'\n\nexport const createSub = async (sub, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/sub`,\n        { ...sub },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const getSubs = async () => {\n    return await axios.get(`${process.env.REACT_APP_API}/subs`)\n}\n\nexport const getSubsSlug= async (slug) => {\n    return await axios.get(`${process.env.REACT_APP_API}/subsSlug/${slug}`)\n}\n\nexport const getSub = async (_id) => {\n    return await axios.get(`${process.env.REACT_APP_API}/sub/${_id}`)\n}\n\nexport const updateSub = async (_id, sub, authtoken) => {\n    return await axios.put(`${process.env.REACT_APP_API}/sub/${_id}`,\n        { ...sub },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const removeSub = async (slug, authtoken) => {\n    return await axios.delete(`${process.env.REACT_APP_API}/sub/${slug}`,\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}","import axios from 'axios'\n\nexport const uploadImage = async (data, name, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/brandImage`,\n        data,\n        {\n            headers: {\n                authtoken,\n                type: \"formData\",\n                name\n            }\n        })\n}\n// add picture to dataBase\nexport const create = async (name, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/brandImage/data`,\n        { name },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n//get brand picture info\nexport const getBrandPictureInfo = async (name) => {\n    return await axios.get(`${process.env.REACT_APP_API}/brandImage/${name}`)\n}\n// get all brand pictures\nexport const getBrandPictures= async()=>{\n    return await axios.get(`${process.env.REACT_APP_API}/brandImages`)\n}\n\n\nexport const removeBrandPcture= async(slug, authtoken)=>{\n    console.log(\"------\",slug)\n    return await axios.delete(`${process.env.REACT_APP_API}/brandImage/${slug}`,\n    {\n        headers:{\n            authtoken\n        }\n    })\n}\n\n\n","import React, { useState, useEffect } from 'react'\nimport { uploadImage, create, getBrandPictureInfo } from '../../functions/uploadImages'\nimport { useSelector } from 'react-redux'\nimport { Avatar, Badge } from 'antd'\n\nconst UploadBrandImage = ({ name, disabled }) => {\n    const [file, setFile] = useState(null)\n    const { user } = useSelector(state => ({ ...state }))\n    const [pictureOk, setPictureOk] = useState(false)\n    const [fileName, setFileName] = useState('')\n\n    \n    useEffect(() => {\n        console.log('change')\n        name && getBrandPictureInfo(name)\n            .then(res => {\n                if (res.data) {\n                    setFileName(res.data.fileName)\n                    setPictureOk(true)\n                } else {\n                    setFileName('')\n                    setPictureOk(false)\n                }\n            })\n    }, [name])\n\n    const uploadFile = (e) => {\n        let file = e.target.files[0]\n        let formData = new FormData()\n        formData.append('image', file)\n        formData.append('name', 'file')\n\n        create(name, user.token)\n            .then(res => {\n                const slug = res.data.slug\n                uploadImage(formData, slug, user.token)\n                    .then(res => {\n                        console.log('complete upload')\n                    })\n            })\n\n    }\n\n\n    return (\n        <>\n            <div className=\"row\">\n                {pictureOk &&\n                    <img src={`${process.env.REACT_APP_IMAGES_BRAND}/${fileName}`} style={{ maxWidth: \"150px\", paddingLeft: \"20px\" }} />\n                }\n            </div>\n            <br />\n        </>\n    )\n}\n\nexport default UploadBrandImage","import axios from 'axios'\n\nexport const uploadImage = async (data, name, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/dilerImage`,\n        data,\n        {\n            headers: {\n                authtoken,\n                type: \"formData\",\n                name\n            }\n        })\n}\n// add picture to dataBase\nexport const create = async (name, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/dilerImage/data`,\n        { name },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n//get brand picture info\nexport const getDilerPictureInfo = async (name) => {\n    return await axios.get(`${process.env.REACT_APP_API}/dilerImage/${name}`)\n}\n\nexport const getDilers = async () => {\n    return await axios.get(`${process.env.REACT_APP_API}/dilers`)\n}\n\n// get all brand pictures\nexport const getDilerPictures= async()=>{\n    return await axios.get(`${process.env.REACT_APP_API}/dilerImages`)\n}\n\n\nexport const removeDilerPicture= async(slug, authtoken)=>{\n    console.log(\"------\",slug)\n    return await axios.delete(`${process.env.REACT_APP_API}/dilerImage/${slug}`,\n    {\n        headers:{\n            authtoken\n        }\n    })\n}\n\n\n","import React, { useState, useEffect, useCallback } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport {\n  getDilers,\n  createDiler,\n  removeDiler,\n  updateDiler,\n} from \"../../../functions/diler\";\nimport { getCategories } from \"../../../functions/category\";\nimport { getSubs } from \"../../../functions/sub\";\nimport {\n  uploadImage,\n  create,\n  getDilerPictureInfo,\n  getDilerPictures,\n  removeDilerPicture,\n} from \"../../../functions/diler\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport {\n  EditOutlined,\n  DeleteOutlined,\n  CheckSquareOutlined,\n} from \"@ant-design/icons\";\nimport LocalSearch from \"../../../components/form/LocalSearch\";\nimport AdminNavigation from \"../../../components/nav/AdminNavigation\";\nimport UploadDilerImage from \"../../../components/form/ShowBrandPicture\";\nimport { Avatar, Badge } from \"antd\";\n\nconst Diler = () => {\n  const [name, setName] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [logos, setLogos] = useState([]);\n  const [pictureOk, setPictureOk] = useState(false);\n  const [fileName, setFileName] = useState(\"\");\n\n  const [loading, setLoading] = useState(false);\n  // filter\n  const [filter, setFilter] = useState(\"\");\n  // selector\n  const { user } = useSelector((state) => ({ ...state }));\n\n  console.log('logos', logos)\n\n  const loadLogos = () => {\n    console.log('weHere')\n    getDilers().then((res) => {\n      setLogos(res.data);\n    });\n  };\n\n  console.log(\"env\", process.env.REACT_IMAGES_BRAND);\n  useEffect(() => {\n    name &&\n      getDilerPictureInfo(name).then((res) => {\n        if (res.data) {\n          setFileName(res.data.fileName);\n          setPictureOk(true);\n        } else {\n          setFileName(\"\");\n          setPictureOk(false);\n        }\n      });\n  }, [name]);\n\n  // get categories, subs and Dilers\n  useState(() => {\n    loadLogos();\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    let formData = new FormData();\n    formData.append(\"image\", file);\n    formData.append(\"name\", \"file\");\n    create(name, user.token).then((res) => {\n      const slug = res.data.slug;\n      uploadImage(formData, slug, user.token).then((res) => {\n        loadLogos();\n        console.log(\"complete upload\");\n        setName(\"\");\n        setLoading(false);\n      });\n    });\n  };\n\n  const UploadImage = () => {\n    return (\n      <>\n        <div className=\"row\">\n          {pictureOk && (\n            <img\n              src={`${process.env.REACT_APP_IMAGES_DILER}/${fileName}`}\n              style={{ maxWidth: \"150px\", paddingLeft: \"20px\" }}\n            />\n          )}\n        </div>\n        <label className=\"btn btn-primary p-0\" disabled={!name || loading}>\n          {`Загрузить изображение `}\n          <input\n            type=\"file\"\n            // hidden\n            accept=\"image/*\"\n            onChange={(e) => setFile(e.target.files[0])}\n            disabled={!name || loading}\n          />\n        </label>\n        <br />\n      </>\n    );\n  };\n\n  const removeLogo = (l) => {\n    //   setLoading(true)\n    if (window.confirm(`Удалить?`)) {\n      removeDilerPicture(l.slug, user.token)\n        .then((res) => {\n          toast.warning(`Дилер \"${l.name}\" удален!`);\n          // setLoading(false)\n          loadLogos();\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const DilerForm = () => {\n    return (\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-group\">\n          <label style={{ fontWeight: \"bold\" }}>Название нового дилера</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            autoFocus\n            required\n            placeholder=\"название дилера\"\n            disabled={loading}\n          />\n          <br />\n          {/* <UploadDilerImage name={name} disabled={!name || loading} /> */}\n          {UploadImage()}\n          <br />\n          <button\n            className=\"btn btn-outline-primary\"\n            disabled={!name || loading}\n          >\n            Добавить\n          </button>\n        </div>\n      </form>\n    );\n  };\n\n  const ReturnDiler = () => {\n    return (\n      <div className=\"col md-5\" style={{ backgroundColor: \"white\" }}>\n        {DilerForm()}\n        <hr />\n        {loading ? (\n          <h4>загрузка</h4>\n        ) : (\n          logos.map((l) => (\n            <Badge\n              key={l.public_id}\n              count=\"X\"\n              onClick={() => {\n                removeLogo(l);\n              }}\n              style={{ cursor: \"pointer\" }}\n              className=\"m-3\"\n            >\n              <img\n                key={l._id}\n                alt=\"logo\"\n                src={`${process.env.REACT_APP_IMAGES_DILER}/${l.fileName}`}\n                style={{ maxWidth: \"100px\", margin: \"10px\" }}\n              />\n            </Badge>\n          ))\n        )}\n      </div>\n    );\n  };\n\n  return (\n    // put retrn into admin sidebar\n    <AdminNavigation name=\"Diler logo\" children={ReturnDiler()} />\n  );\n};\n\nexport default Diler;\n"],"sourceRoot":""}