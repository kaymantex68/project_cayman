{"version":3,"sources":["components/nav/AdminNavigation.js","components/form/LocalSearch.js","functions/sub.js","functions/uploadImages.js","functions/brand.js","components/form/ShowBrandPicture.js","functions/user.js","../node_modules/@ant-design/icons-svg/es/asn/CheckSquareOutlined.js","../node_modules/@ant-design/icons/es/icons/CheckSquareOutlined.js","functions/groupDiscount.js","functions/discounts.js","pages/admin/userDescription/UserDescription.js"],"names":["Header","Layout","Content","Sider","Footer","SubMenu","Menu","AdminNavigation","props","useState","collapsed","setCollapsed","sideMenu","useSelector","state","dispatch","useDispatch","useEffect","style","minHeight","width","collapsible","onCollapse","type","payload","overflow","className","to","src","process","theme","color","defaultSelectedKeys","mode","Item","icon","title","padding","backgroundColor","display","justifyContent","name","fontSize","margin","children","LocalSearch","filter","setFilter","placeholder","value","onChange","e","preventDefault","target","toLowerCase","backgrounColor","createSub","sub","authtoken","a","axios","post","headers","getSubs","get","getSubsSlug","slug","getSub","_id","updateSub","put","removeSub","delete","uploadImage","data","create","getBrandPictureInfo","getBrandPictures","removeBrandPcture","console","log","createBrand","brand","getBrands","getBrand","updateBrand","removeBrand","UploadBrandImage","disabled","user","pictureOk","setPictureOk","fileName","setFileName","then","res","maxWidth","paddingLeft","getUsers","getUser","CheckSquareOutlined","ref","React","AntdIcon","Object","assign","CheckSquareOutlinedSvg","displayName","createGroupDiscount","groupDiscount","getGroupDiscounts","getGroupDiscount","updateGroupDiscount","removeGroupDiscount","addToDiscounts","discount","Input","TextArea","ItemGroup","UserDescription","match","history","loading","setLoading","customer","setCustomer","brands","setBrands","setDiscount","groupDiscounts","setGroupDiscounts","setGroupDiscount","params","token","discounts","toast","success","handleDiscount","b","newDiscount","active","handleActive","handleSet","window","confirm","setupDiscount","find","d","email","role","classes","menu","defaultOpenKeys","fontWeight","PercentageOutlined","alignItems","map","gd","onClick","flex","minWidth"],"mappings":"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","file":"static/js/33.7026c335.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Layout, Menu, Breadcrumb } from \"antd\";\nimport {\n    DesktopOutlined,\n    PieChartOutlined,\n    FileOutlined,\n    TeamOutlined,\n    UserOutlined,\n    HomeOutlined,\n    SolutionOutlined,\n    VideoCameraOutlined,\n    VideoCameraAddOutlined,\n    ToolOutlined,\n    ClearOutlined,\n    ColumnWidthOutlined,\n    RobotOutlined,\n    PercentageOutlined\n\n} from \"@ant-design/icons\";\nimport {useSelector, useDispatch} from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nconst { Header, Content, Footer, Sider } = Layout;\nconst { SubMenu } = Menu;\n\nconst AdminNavigation = (props) => {\n    const [collapsed, setCollapsed] = useState(true);\n\n    const {sideMenu}= useSelector(state=>({...state}))\n    const dispatch= useDispatch()\n\n    // console.log('sideMenu', sideMenu)\n\n    useEffect(()=>{\n        setCollapsed(sideMenu)\n    },[])\n\n    const onCollapse = () => {\n        dispatch({\n            type: \"SET_VISIBLE_SIDEMENU\",\n            payload: !collapsed,\n          });\n        setCollapsed(!collapsed);\n    };\n\n    return (\n        <Layout style={{ minHeight: \"100vh\" }}>\n            <Sider\n                width='250'\n                collapsible\n                collapsed={collapsed}\n                onCollapse={onCollapse}\n                style={{ overflow:\"hidden\" }}\n            >\n                <div className=\" p-3\"  >\n                    <Link to=\"/\"><img style={{width: \"210px\"}} src={`${process.env.REACT_APP_IMAGES_LOGO}/logo.png`} /></Link>\n                </div>\n               \n\n                <Menu theme=\"dark\" style={{ color: 'white' }} defaultSelectedKeys={[\"1\"]} mode=\"inline\" >\n                    <Menu.Item key=\"hist\" style={{ color: 'white' }} icon={<HomeOutlined />}>\n                        <Link to=\"/admin/dashboard\" style={{ color: 'white' }}>Личный кабинет</Link>\n                    </Menu.Item>\n                    <SubMenu key=\"sub1\" icon={<SolutionOutlined />} title=\"Настройки Администратор\">\n                        <Menu.Item key=\"2\">\n                            <Link to=\"/user/password\">Пароль</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"users\" icon={<UserOutlined />} title=\"Пользователи\">\n                        <Menu.Item key=\"3\">\n                            <Link to=\"/admin/users\">Статистика</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"groupDiscounts\" icon={<PercentageOutlined />} title=\"Скидочные группы\">\n                        <Menu.Item key=\"4\">\n                            <Link to=\"/admin/groupDiscounts\">Скидки</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"category\" icon={<PieChartOutlined />} title=\"Структура каталога\">\n                        <Menu.Item key=\"category_1\"><Link to=\"/admin/category\">Категории</Link></Menu.Item>\n                        <Menu.Item key=\"sub_category_1\"><Link to=\"/admin/sub\">Sub-категории</Link></Menu.Item>\n                        <Menu.Item key=\"brands\"><Link to=\"/admin/brand\">Brand</Link></Menu.Item>\n                        <Menu.Item key=\"brandPicture\"><Link to=\"/admin/brandPicture\">Brand-лого</Link></Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"products\" icon={<VideoCameraOutlined />} title=\"Товары\">\n                        <Menu.Item key=\"newproduct\" icon={<VideoCameraAddOutlined />}>\n                            <Link to=\"/admin/product\">Новый товар</Link>\n                        </Menu.Item>\n                        <Menu.Item key=\"product\" icon={<VideoCameraOutlined />}>\n                            <Link to=\"/admin/products\">Товары</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"works\" icon={<ToolOutlined />} title=\"Работы\">\n                        <Menu.Item key=\"newwork\" icon={<VideoCameraAddOutlined />}>\n                            <Link to=\"/admin/work\">Виды работ</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"optimization\" icon={<ClearOutlined />} title=\"Оптимизация базы\">\n                        <Menu.Item key=\"9\" style={{ color: 'white' }} >\n                            <Link to=\"/admin/delete-image\">Удаление изображений</Link>\n                        </Menu.Item>\n\n                    </SubMenu>\n                    <SubMenu key=\"slider\" icon={<ColumnWidthOutlined />} title=\"Слайдер\">\n                        <Menu.Item key=\"slider1\" style={{ color: 'white' }} >\n                            <Link to=\"/admin/slider\">Слайды</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                    <SubMenu key=\"diler\" icon={<RobotOutlined />} title=\"Дилер\">\n                        <Menu.Item key=\"diler1\" style={{ color: 'white' }} >\n                            <Link to=\"/admin/diler\">Дилер</Link>\n                        </Menu.Item>\n                    </SubMenu>\n                </Menu>\n\n            </Sider>\n\n            {/* content */}\n            <Layout\n                className=\"site-layout\"\n                style={{ padding: 0, backgroundColor: \"white\" }}>\n                <Header\n                    className=\"site-layout-background pl-2\"\n                    style={{ padding: 0, backgroundColor: \"white\", display: \"flex\", justifyContent: \"center\" }}\n                >\n                    {props.name ? <span style={{ fontSize: \"1rem\", color: \"black\" }}>{props.name}</span> : null}\n                </Header>\n                <Content style={{ margin: \"0 0px\" }} className=\"p-2\">\n                    {props.children ? props.children : null}\n                </Content>\n            </Layout>\n        </Layout>\n    );\n};\n\nexport default AdminNavigation;\n","import React from \"react\";\n\nconst LocalSearch = ({ filter, setFilter }) => {\n    const handleFilterChange = (e) => {\n        e.preventDefault();\n        setFilter(e.target.value.toLowerCase());\n    };\n    return (\n        <div className=\"containter pt-4 pb-4\">\n            <input\n                type=\"search\"\n                placeholder=\"поиск\"\n                value={filter}\n                onChange={handleFilterChange}\n                className=\"form-control mb-4\"\n                style={{backgrounColor: \"grey\"}}\n            />\n        </div>\n    );\n};\n\nexport default LocalSearch;\n","\nimport axios from 'axios'\n\nexport const createSub = async (sub, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/sub`,\n        { ...sub },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const getSubs = async () => {\n    return await axios.get(`${process.env.REACT_APP_API}/subs`)\n}\n\nexport const getSubsSlug= async (slug) => {\n    return await axios.get(`${process.env.REACT_APP_API}/subsSlug/${slug}`)\n}\n\nexport const getSub = async (_id) => {\n    return await axios.get(`${process.env.REACT_APP_API}/sub/${_id}`)\n}\n\nexport const updateSub = async (_id, sub, authtoken) => {\n    return await axios.put(`${process.env.REACT_APP_API}/sub/${_id}`,\n        { ...sub },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const removeSub = async (slug, authtoken) => {\n    return await axios.delete(`${process.env.REACT_APP_API}/sub/${slug}`,\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}","import axios from 'axios'\n\nexport const uploadImage = async (data, name, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/brandImage`,\n        data,\n        {\n            headers: {\n                authtoken,\n                type: \"formData\",\n                name\n            }\n        })\n}\n// add picture to dataBase\nexport const create = async (name, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/brandImage/data`,\n        { name },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n//get brand picture info\nexport const getBrandPictureInfo = async (name) => {\n    return await axios.get(`${process.env.REACT_APP_API}/brandImage/${name}`)\n}\n// get all brand pictures\nexport const getBrandPictures= async()=>{\n    return await axios.get(`${process.env.REACT_APP_API}/brandImages`)\n}\n\n\nexport const removeBrandPcture= async(slug, authtoken)=>{\n    console.log(\"------\",slug)\n    return await axios.delete(`${process.env.REACT_APP_API}/brandImage/${slug}`,\n    {\n        headers:{\n            authtoken\n        }\n    })\n}\n\n\n","\nimport axios from 'axios'\n\nexport const createBrand = async (brand, authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/brand`,\n        { ...brand },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const getBrands = async () => {\n    return await axios.get(`${process.env.REACT_APP_API}/brands`)\n}\n\nexport const getBrand = async (_id) => {\n    return await axios.get(`${process.env.REACT_APP_API}/brand/${_id}`)\n}\n\nexport const updateBrand = async (_id, brand, authtoken) => {\n    return await axios.put(`${process.env.REACT_APP_API}/brand/${_id}`,\n        { ...brand },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const removeBrand = async (_id, authtoken) => {\n    return await axios.delete(`${process.env.REACT_APP_API}/brand/${_id}`,\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n","import React, { useState, useEffect } from 'react'\nimport { uploadImage, create, getBrandPictureInfo } from '../../functions/uploadImages'\nimport { useSelector } from 'react-redux'\nimport { Avatar, Badge } from 'antd'\n\nconst UploadBrandImage = ({ name, disabled }) => {\n    const [file, setFile] = useState(null)\n    const { user } = useSelector(state => ({ ...state }))\n    const [pictureOk, setPictureOk] = useState(false)\n    const [fileName, setFileName] = useState('')\n\n    \n    useEffect(() => {\n        console.log('change')\n        name && getBrandPictureInfo(name)\n            .then(res => {\n                if (res.data) {\n                    setFileName(res.data.fileName)\n                    setPictureOk(true)\n                } else {\n                    setFileName('')\n                    setPictureOk(false)\n                }\n            })\n    }, [name])\n\n    const uploadFile = (e) => {\n        let file = e.target.files[0]\n        let formData = new FormData()\n        formData.append('image', file)\n        formData.append('name', 'file')\n\n        create(name, user.token)\n            .then(res => {\n                const slug = res.data.slug\n                uploadImage(formData, slug, user.token)\n                    .then(res => {\n                        console.log('complete upload')\n                    })\n            })\n\n    }\n\n\n    return (\n        <>\n            <div className=\"row\">\n                {pictureOk &&\n                    <img src={`${process.env.REACT_APP_IMAGES_BRAND}/${fileName}`} style={{ maxWidth: \"150px\", paddingLeft: \"20px\" }} />\n                }\n            </div>\n            <br />\n        </>\n    )\n}\n\nexport default UploadBrandImage","import axios from 'axios'\n\nexport const getUsers = async (authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/users`,\n    {},\n    {\n        headers:{\n            authtoken\n        }\n    })\n}\n\n\nexport const getUser = async (_id,authtoken) => {\n    return await axios.post(`${process.env.REACT_APP_API}/user/${_id}`,\n    {},\n    {\n        headers:{\n            authtoken\n        }\n    })\n}","// This icon file is generated automatically.\nvar CheckSquareOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M433.1 657.7a31.8 31.8 0 0051.7 0l210.6-292c3.8-5.3 0-12.7-6.5-12.7H642c-10.2 0-19.9 4.9-25.9 13.3L459 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H315c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z\" } }] }, \"name\": \"check-square\", \"theme\": \"outlined\" };\nexport default CheckSquareOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CheckSquareOutlinedSvg from \"@ant-design/icons-svg/es/asn/CheckSquareOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CheckSquareOutlined = function CheckSquareOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: CheckSquareOutlinedSvg\n  }));\n};\n\nCheckSquareOutlined.displayName = 'CheckSquareOutlined';\nexport default /*#__PURE__*/React.forwardRef(CheckSquareOutlined);","\nimport axios from 'axios'\n\nexport const createGroupDiscount = async (groupDiscount, authtoken) => {\n    console.log(groupDiscount)\n    return await axios.post(`${process.env.REACT_APP_API}/groupDiscount`,\n        { ...groupDiscount },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const getGroupDiscounts = async () => {\n    return await axios.get(`${process.env.REACT_APP_API}/groupDiscounts`)\n}\n\nexport const getGroupDiscount = async (slug) => {\n    return await axios.get(`${process.env.REACT_APP_API}/groupDiscount/${slug}`)\n}\n\nexport const updateGroupDiscount = async (slug, groupDiscount, authtoken) => {\n    return await axios.put(`${process.env.REACT_APP_API}/groupDiscount/${slug}`,\n        { ...groupDiscount },\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}\n\nexport const removeGroupDiscount = async (slug, authtoken) => {\n    return await axios.delete(`${process.env.REACT_APP_API}/groupDiscount/${slug}`,\n        {\n            headers: {\n                authtoken,\n            }\n        })\n}","import axios from 'axios'\n\nexport const addToDiscounts= async (_id,discount, authtoken)=>{\n    // console.log('function cart', cart)\n    return axios.post(`${process.env.REACT_APP_API}/addUserDiscount/${_id}`,\n    {discount},\n    {\n        headers: {\n            authtoken,\n        }\n    })\n}\n\n// export const getUserDiscounts= async (_id, authtoken)=>{\n//     // console.log('function cart', cart)\n//     return axios.post(`${process.env.REACT_APP_API}/discounts/${_id}`,\n//     {},\n//     {\n//         headers: {\n//             authtoken,\n//         }\n//     })\n// }","import React, { useState, useEffect, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { getSubs } from '../../../functions/sub'\nimport Loading from '../../../components/form/LoadingIcon'\nimport { LoadingOutlined, PercentageOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport { EditOutlined, DeleteOutlined, CheckSquareOutlined } from \"@ant-design/icons\";\nimport { getBrands } from '../../../functions/brand'\nimport LocalSearch from '../../../components/form/LocalSearch'\nimport AdminNavigation from '../../../components/nav/AdminNavigation'\nimport _, { stubFalse } from 'lodash'\nimport slugify from 'react-slugify'\nimport UploadBrandImage from '../../../components/form/ShowBrandPicture'\nimport { Input, Checkbox, Avatar, Badge, Menu } from 'antd';\nimport { getUser } from '../../../functions/user'\nimport { getBrandPictures } from '../../../functions/uploadImages'\nimport { addToDiscounts, getUserDiscounts } from '../../../functions/discounts'\nimport classes from './UserDescription.module.css'\nimport { getGroupDiscounts } from '../../../functions/groupDiscount'\n\nconst { TextArea } = Input;\nconst { SubMenu, ItemGroup } = Menu;\n\nconst UserDescription = ({ match, history }) => {\n    const [loading, setLoading] = useState(false)\n    const [customer, setCustomer] = useState({})\n    const [brands, setBrands] = useState([])\n    const [discount, setDiscount] = useState({})\n    const [groupDiscounts, setGroupDiscounts] = useState([])\n    const [groupDiscount, setGroupDiscount] = useState(null)\n    const { user } = useSelector(state => ({ ...state }))\n\n    console.log('group discount', groupDiscount)\n\n    useEffect(() => {\n        setLoading(true)\n        getUser(match.params._id, user.token).then(res => {\n            setCustomer(res.data)\n            setDiscount(res.data.discounts)\n            getBrandPictures().then(res => {\n                setBrands(res.data)\n                getGroupDiscounts().then(res => {\n                    setGroupDiscounts(res.data)\n                    toast.success(`Информация о пользователе \"${match.params._id}\" загружена`)\n                    setLoading(false)\n                })\n            })\n        })\n    }, [])\n\n    console.log('discount', discount)\n\n\n    const handleDiscount = async (e, b) => {\n        // console.log('brand', b.slug)\n        // console.log(e.target.value)\n        const newDiscount = { ...discount }\n        newDiscount[b.slug] = {\n            discount: e.target.value,\n            active: true\n        }\n        setDiscount({ ...newDiscount })\n        await addToDiscounts(match.params._id, newDiscount, user.token).then(res => {\n            toast.success('Персональная скидка обновлена')\n            // console.log(res.data)\n        })\n    }\n\n    const handleActive = async (e, b) => {\n        e.preventDefault()\n        // console.log('brand', b.slug)\n        // console.log(e.target.value)\n        const newDiscount = { ...discount }\n        newDiscount[b.slug] = {\n            ...newDiscount[b.slug],\n            active: !newDiscount[b.slug].active\n        }\n        console.log('new', newDiscount)\n        setDiscount({ ...newDiscount })\n        await addToDiscounts(match.params._id, newDiscount, user.token).then(res => {\n            \n            getUser(match.params._id, user.token).then(res => {\n                setCustomer(res.data)\n                setDiscount(res.data.discounts)\n                getBrandPictures().then(res => {\n                    setBrands(res.data)\n                    getGroupDiscounts().then(res => {\n                        setGroupDiscounts(res.data)\n                        toast.success(`Активация скидки изменена`)\n                        setLoading(false)\n                    })\n                })\n            })\n            // console.log(res.data)\n        })\n    }\n\n    const handleSet = async (groupDiscount) => {\n        if (window.confirm(`Изменить общую скидку?`) && groupDiscount) {\n            let setupDiscount = groupDiscounts.find(d => {\n                return (d._id === groupDiscount)\n            }).discounts\n            setDiscount({ ...setupDiscount })\n            await addToDiscounts(match.params._id, setupDiscount, user.token).then(res => {\n                toast.success('Персональная скидка обновлена')\n                // console.log(res.data)\n            })\n            // console.log('group', setupDiscount)\n        }\n    }\n\n    // console.log('brands', brands)\n    const userForm = () => {\n        return (\n            <div style={{ color: \"black\" }}>\n                <div>email: {customer.email}</div>\n                <div>имя: {customer.name}</div>\n                <div>роль: {customer.role}</div>\n                <br />\n                <hr />\n                <Menu className={classes.menu} mode=\"inline\" defaultOpenKeys={[]}>\n\n                    <SubMenu\n                        key=\"1\"\n                        title={\n                            <span style={{ fontSize: \"1rem\", fontWeight: \"bold\" }}>\n                                <PercentageOutlined />  Скидки <span style={{ fontSize: \"0.7rem\" }}>(выставляются в процентах)</span>\n                            </span>\n                        }\n                        className=\"container\"\n                    >\n                        <div className=\"mt-3 container\" style={{ display: \"flex\", alignItems: \"center\" }}>\n                            <select className=\"form-control\" style={{ width: \"80%\", fontSize: \"0.9rem\" }} onChange={(e) => { setGroupDiscount(e.target.value) }}>\n                                <option value=\"all\" style={{ fontSize: \"0.8rem\" }} className=\"text-center\">выберите скидочную группу</option>\n                                {groupDiscounts.map(gd => (\n                                    <option value={gd._id} style={{ fontSize: \"0.8rem\" }} className=\"text-center\">{gd.name}</option>\n                                ))}\n                            </select>\n                            <div className=\"btn ml-3\" onClick={(e) => handleSet(groupDiscount)}>применить</div>\n                        </div>\n\n                        <div className=\"mt-3\">\n                            {brands.map(b => {\n                                let slug = b.slug\n                                // if (discount && discount[slug]) console.log(slug,' ',discount[slug][\"discount\"])\n\n                                return (\n                                    <>\n\n                                        <div className=\"ml-4\" style={{ display: \"flex\", alignItems: \"center\" }} key={b._id}>\n                                            <span style={{ backgroundColor: \"yellow\", fontSize: \"1rem\", flex: \"2\", fontWeight: \"bold\", minWidth: \"200px\" }}>{b.name}</span>\n                                            <input\n                                                className=\"ml-2 form-control text-center\"\n                                                type=\"number\"\n                                                value={discount && discount[slug] ? discount[slug][\"discount\"] : 0}\n                                                style={{ flex: \"6\"}}\n                                                onChange={(e) => handleDiscount(e, b)}\n                                            />\n                                            {discount && discount[slug] \n                                            ?<CheckSquareOutlined\n                                                disabled={true}\n                                                className={discount && discount[slug] && discount[slug].active  ? \"text-success ml-2\" : \"text-danger ml-2\"}\n                                                onClick={(e) => handleActive(e, b)}\n                                            />\n                                        : <CheckSquareOutlined className=\"ml-2\"/>\n                                        }\n                                        </div>\n\n                                        {/* <hr /> */}\n\n                                    </>\n                                )\n                            })}\n                        </div>\n                    </SubMenu>\n                    <hr />\n                    <SubMenu\n                        key=\"2\"\n                        title={\n                            <span style={{ fontSize: \"1rem\", fontWeight: \"bold\" }}>\n                                <PercentageOutlined />  Корзина </span>\n                        }\n                        className=\"container\"\n                    ></SubMenu>\n                </Menu>\n            </div>\n        )\n    }\n\n\n\n\n    const ReturnUser = () => (\n        <div className=\"col md-5\" style={{ backgroundColor: \"white\" }}>\n\n            <br />\n            {userForm()}\n            <hr />\n        </div>\n    )\n\n    return (\n        <AdminNavigation name={'Пользователь'} children={loading ? <Loading /> : ReturnUser()} />\n    );\n};\n\nexport default UserDescription;\n"],"sourceRoot":""}